{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bluec\\\\Desktop\\\\Nowy folder (3)\\\\Rent-a-Car-React\\\\ClientApp\\\\src\\\\CompanysCars.js\";\nimport React, { Component } from 'react';\nimport { Table, Button, ButtonToolbar } from 'reactstrap';\nimport CheckPriceForm from './Forms/CheckPriceForm';\nimport RentMeForm from './Forms/RentMeForm';\nexport default class CompanysCars extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      details: [],\n      checkPrice: false,\n      PriceShower: [],\n      Rent: false\n    };\n  }\n\n  refreshList() {\n    if (this.props.show) {\n      fetch(process.env.REACT_APP_API + '/JsonCars/GetCompanysCars/' + this.props.companyID + '?carID=' + this.props.carID).then(response => response.json()).then(data => {\n        this.setState({\n          details: data\n        });\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.refreshList();\n    this.interval = setInterval(() => this.refreshList(), 2000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  show_price(i) {\n    var price = -1;\n    this.state.PriceShower.map(s => {\n      if (s.Key === i) {\n        price = s.Price;\n      }\n    });\n    if (price === -1) return null;else return price;\n  }\n\n  render() {\n    if (this.props.show) {\n      const {\n        details\n      } = this.state;\n\n      let ModalCheckPriceClose = () => this.setState({\n        checkPrice: false\n      });\n\n      let ModalRentClose = () => this.setState({\n        Rent: false\n      });\n\n      let isinlist = i => {\n        var should_be_show = false;\n        this.state.PriceShower.map(s => {\n          if (s.Key === i) {\n            should_be_show = true;\n          }\n        });\n        return should_be_show;\n      };\n\n      let additem = (id, price) => {\n        this.setState(state => {\n          var item = {\n            Key: id,\n            Price: price\n          };\n          const PriceShower = state.PriceShower.concat(item);\n          return {\n            PriceShower\n          };\n        });\n      };\n\n      let removeItem = i => {\n        this.setState(state => {\n          const PriceShower = state.PriceShower.filter(item => item.Key !== i);\n          return {\n            PriceShower\n          };\n        });\n      };\n\n      return /*#__PURE__*/React.createElement(Table, {\n        className: \"mt-4\",\n        striped: true,\n        bordered: true,\n        hover: true,\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 29\n        }\n      }, \"Rok Produkcji\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 29\n        }\n      }, \"Opis\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }\n      }, \"Cena za dzie\\u0144\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }\n      }, \"Opcje\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      }, details.map(detal => /*#__PURE__*/React.createElement(\"tr\", {\n        key: detal.carDetailsID,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 33\n        }\n      }, detal.yearOfProduction), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 33\n        }\n      }, detal.description), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 33\n        }\n      }, this.show_price(detal.carDetailsID)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(ButtonToolbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"mr-2\",\n        variant: \"info\",\n        onClick: () => this.setState({\n          checkPrice: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 41\n        }\n      }, \"Sprawd\\u0107 cene\"), this.show_price(detal.carDetailsID) != null && /*#__PURE__*/React.createElement(Button, {\n        className: \"mr-2\",\n        variant: \"success\",\n        onClick: () => this.setState({\n          Rent: detal.carDetailsID\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 45\n        }\n      }, \"Wynajmij mnie\"), /*#__PURE__*/React.createElement(CheckPriceForm, {\n        show: this.state.checkPrice,\n        onHide: ModalCheckPriceClose,\n        cardetalisid: detal.carDetailsID,\n        isinlist: isinlist,\n        removeitem: removeItem,\n        additem: additem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(RentMeForm, {\n        show: this.state.Rent,\n        onHide: ModalRentClose,\n        cardetalisid: detal.carDetailsID,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 41\n        }\n      })))))));\n    } else return null;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/bluec/Desktop/Nowy folder (3)/Rent-a-Car-React/ClientApp/src/CompanysCars.js"],"names":["React","Component","Table","Button","ButtonToolbar","CheckPriceForm","RentMeForm","CompanysCars","constructor","props","state","details","checkPrice","PriceShower","Rent","refreshList","show","fetch","process","env","REACT_APP_API","companyID","carID","then","response","json","data","setState","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","show_price","i","price","map","s","Key","Price","render","ModalCheckPriceClose","ModalRentClose","isinlist","should_be_show","additem","id","item","concat","removeItem","filter","detal","carDetailsID","yearOfProduction","description"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport {Table, Button, ButtonToolbar} from 'reactstrap';\r\nimport CheckPriceForm from './Forms/CheckPriceForm';\r\nimport RentMeForm from './Forms/RentMeForm';\r\n\r\nexport default class CompanysCars extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            details:[],\r\n            checkPrice:false,\r\n            PriceShower:[],\r\n            Rent:false\r\n\r\n        };\r\n    }\r\n\r\n    refreshList()\r\n    {\r\n        if(this.props.show)\r\n        {\r\n            fetch(process.env.REACT_APP_API +'/JsonCars/GetCompanysCars/'+this.props.companyID +'?carID='+this.props.carID)\r\n            .then(response=>response.json())\r\n            .then(data=>{\r\n                this.setState({details:data});\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshList();\r\n        this.interval = setInterval(() => this.refreshList(), 2000);\r\n        \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    \r\n\r\n      show_price(i){\r\n          var price = -1;\r\n          this.state.PriceShower.map(s=>{\r\n            if(s.Key===i)\r\n            {\r\n                price = s.Price;\r\n            }});\r\n            if(price===-1)\r\n                return null;\r\n            else\r\n                return price;\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n    render(){\r\n\r\n        if(this.props.show)\r\n        {\r\n            const {details}=this.state;\r\n\r\n            let ModalCheckPriceClose=()=>this.setState({checkPrice:false});\r\n            let ModalRentClose=()=>this.setState({Rent:false});\r\n\r\n\r\n            let isinlist = (i)=>{\r\n                var should_be_show = false;\r\n                this.state.PriceShower.map( s =>{\r\n                    if(s.Key===i)\r\n                    {\r\n                        should_be_show = true;\r\n                    }\r\n                });\r\n                return should_be_show;\r\n              };\r\n\r\n            let additem = (id, price) => {\r\n                this.setState(state => {\r\n                    var item = { Key: id, Price:price};\r\n                    const PriceShower = state.PriceShower.concat(item);\r\n            \r\n                  return {\r\n                      PriceShower\r\n                  };\r\n                });\r\n              };\r\n\r\n            let removeItem = i => {\r\n                this.setState(state => {\r\n                    const PriceShower = state.PriceShower.filter(item => item.Key !== i);\r\n              \r\n                    return {\r\n                        PriceShower,\r\n                    };\r\n                  });\r\n                };\r\n            \r\n                \r\n            \r\n            return(\r\n                    <Table className=\"mt-4\" striped bordered hover size=\"sm\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Rok Produkcji</th>\r\n                            <th>Opis</th>\r\n                            <th>Cena za dzień</th>\r\n                            <th>Opcje</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {details.map(detal=>\r\n                            <tr key={detal.carDetailsID}>\r\n                                <td>{detal.yearOfProduction}</td>\r\n                                <td>{detal.description}</td>\r\n                                <td>{this.show_price(detal.carDetailsID)}</td>\r\n                                <td> \r\n                                    <ButtonToolbar>\r\n                                        <Button className=\"mr-2\" variant=\"info\"\r\n                                                onClick={()=>this.setState(\r\n                                                {\r\n                                                    checkPrice:true\r\n                                                })}>\r\n                                                    Sprawdć cene \r\n                                        </Button> \r\n\r\n                                        \r\n                                        {\r\n                                            this.show_price(detal.carDetailsID)!=null && \r\n                                            <Button className=\"mr-2\" variant=\"success\" \r\n                                                onClick={()=> this.setState({Rent:detal.carDetailsID})}> \r\n                                                Wynajmij mnie\r\n                                            </Button>\r\n                                        }\r\n                                        \r\n\r\n                                        <CheckPriceForm show={this.state.checkPrice}\r\n                                        onHide={ModalCheckPriceClose}\r\n                                        cardetalisid={detal.carDetailsID}\r\n                                        isinlist={isinlist}\r\n                                        removeitem={removeItem}\r\n                                        additem={additem}/>\r\n\r\n                                        <RentMeForm show={this.state.Rent} \r\n                                        onHide={ModalRentClose}\r\n                                        cardetalisid={detal.carDetailsID}/>\r\n                                    </ButtonToolbar>\r\n                                </td>\r\n                            </tr>\r\n                        ) }\r\n                    </tbody>\r\n                    </Table>\r\n                \r\n            )\r\n        }\r\n        else\r\n            return(null)\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}