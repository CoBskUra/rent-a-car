{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bluec\\\\Desktop\\\\Nowy folder (3)\\\\Rent-a-Car2\\\\ClientApp\\\\src\\\\CompanysCars.js\";\nimport React, { Component } from 'react';\nimport { Table, Button, ButtonToolbar } from 'react-bootstrap';\nimport { CheckPriceForm } from './Forms/CheckPriceForm';\nimport { RentMeForm } from './RentMeForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class CompanysCars extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      details: [],\n      checkPrice: false,\n      PriceShower: [],\n      Rent: false\n    };\n  }\n\n  refreshList() {\n    if (this.props.show) {\n      fetch(process.env.REACT_APP_API + '/JsonCars/GetCompanysCars/' + this.props.companyID + '?carID=' + this.props.carID).then(response => response.json()).then(data => {\n        this.setState({\n          details: data\n        });\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  componentDidUpdate() {\n    this.refreshList();\n  }\n\n  show_price(i) {\n    var price = -1;\n    this.state.PriceShower.map(s => {\n      if (s.Key === i) {\n        price = s.Price;\n      }\n    });\n    if (price === -1) return null;else return price;\n  }\n\n  render() {\n    if (this.props.show) {\n      const {\n        details\n      } = this.state;\n\n      let ModalCheckPriceClose = () => this.setState({\n        checkPrice: false\n      });\n\n      let ModalRentClose = () => this.setState({\n        Rent: false\n      });\n\n      let exsist = i => {\n        var should_be_show = false;\n        this.state.PriceShower.map(s => {\n          if (s.Key === i) {\n            should_be_show = true;\n          }\n        });\n        return should_be_show;\n      };\n\n      let additem = (id, price) => {\n        this.setState(state => {\n          var item = {\n            Key: id,\n            Price: price\n          };\n          const PriceShower = state.PriceShower.concat(item);\n          return {\n            PriceShower\n          };\n        });\n      };\n\n      let removeItem = i => {\n        this.setState(state => {\n          const PriceShower = state.PriceShower.filter(item => item.Key !== i);\n          return {\n            PriceShower\n          };\n        });\n      };\n\n      return /*#__PURE__*/_jsxDEV(Table, {\n        className: \"mt-4\",\n        striped: true,\n        bordered: true,\n        hover: true,\n        size: \"sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Rok Produkcji\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Opis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cena za dzie\\u0144\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Opcje\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: details.map(detal => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: detal.yearOfProduction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: detal.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.show_price(detal.carDetailsID)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(ButtonToolbar, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  className: \"mr-2\",\n                  variant: \"info\",\n                  onClick: () => this.setState({\n                    checkPrice: true\n                  }),\n                  children: \"Sprawd\\u0107 cene\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 41\n                }, this), this.show_price(detal.carDetailsID) != null && /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"mr-2\",\n                  variant: \"success\",\n                  onClick: () => this.setState({\n                    Rent: detal.carDetailsID\n                  }),\n                  children: \"Wynajmij mnie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(CheckPriceForm, {\n                  show: this.state.checkPrice,\n                  onHide: ModalCheckPriceClose,\n                  carDetalisID: detal.carDetailsID,\n                  isInList: exsist,\n                  removeitem: removeItem,\n                  additem: additem\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(RentMeForm, {\n                  show: this.state.Rent,\n                  onHide: ModalRentClose,\n                  cardetalisid: detal.carDetailsID\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 33\n            }, this)]\n          }, detal.carDetailsID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this);\n    } else return null;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/bluec/Desktop/Nowy folder (3)/Rent-a-Car2/ClientApp/src/CompanysCars.js"],"names":["React","Component","Table","Button","ButtonToolbar","CheckPriceForm","RentMeForm","CompanysCars","constructor","props","state","details","checkPrice","PriceShower","Rent","refreshList","show","fetch","process","env","REACT_APP_API","companyID","carID","then","response","json","data","setState","componentDidMount","componentDidUpdate","show_price","i","price","map","s","Key","Price","render","ModalCheckPriceClose","ModalRentClose","exsist","should_be_show","additem","id","item","concat","removeItem","filter","detal","yearOfProduction","description","carDetailsID"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport {Table, Button, ButtonToolbar} from 'react-bootstrap';\r\nimport { CheckPriceForm } from './Forms/CheckPriceForm';\r\nimport { RentMeForm } from './RentMeForm';\r\n\r\nexport class CompanysCars extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            details:[],\r\n            checkPrice:false,\r\n            PriceShower:[],\r\n            Rent:false\r\n\r\n        };\r\n    }\r\n\r\n    refreshList()\r\n    {\r\n        if(this.props.show)\r\n        {\r\n            fetch(process.env.REACT_APP_API +'/JsonCars/GetCompanysCars/'+this.props.companyID +'?carID='+this.props.carID)\r\n            .then(response=>response.json())\r\n            .then(data=>{\r\n                this.setState({details:data});\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.refreshList();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        this.refreshList();\r\n    }\r\n\r\n    \r\n\r\n      show_price(i){\r\n          var price = -1;\r\n          this.state.PriceShower.map(s=>{\r\n            if(s.Key===i)\r\n            {\r\n                price = s.Price;\r\n            }});\r\n            if(price===-1)\r\n                return null;\r\n            else\r\n                return price;\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n    render(){\r\n\r\n        if(this.props.show)\r\n        {\r\n            const {details}=this.state;\r\n\r\n            let ModalCheckPriceClose=()=>this.setState({checkPrice:false});\r\n            let ModalRentClose=()=>this.setState({Rent:false});\r\n\r\n\r\n            let exsist = (i)=>{\r\n                var should_be_show = false;\r\n                this.state.PriceShower.map( s =>{\r\n                    if(s.Key===i)\r\n                    {\r\n                        should_be_show = true;\r\n                    }\r\n                });\r\n                return should_be_show;\r\n              };\r\n\r\n            let additem = (id, price) => {\r\n                this.setState(state => {\r\n                    var item = { Key: id, Price:price};\r\n                    const PriceShower = state.PriceShower.concat(item);\r\n            \r\n                  return {\r\n                      PriceShower\r\n                  };\r\n                });\r\n              };\r\n\r\n            let removeItem = i => {\r\n                this.setState(state => {\r\n                    const PriceShower = state.PriceShower.filter(item => item.Key !== i);\r\n              \r\n                    return {\r\n                        PriceShower,\r\n                    };\r\n                  });\r\n                };\r\n            \r\n                \r\n            \r\n            return(\r\n                    <Table className=\"mt-4\" striped bordered hover size=\"sm\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Rok Produkcji</th>\r\n                            <th>Opis</th>\r\n                            <th>Cena za dzień</th>\r\n                            <th>Opcje</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {details.map(detal=>\r\n                            <tr key={detal.carDetailsID}>\r\n                                <td>{detal.yearOfProduction}</td>\r\n                                <td>{detal.description}</td>\r\n                                <td>{this.show_price(detal.carDetailsID)}</td>\r\n                                <td> \r\n                                    <ButtonToolbar>\r\n                                        <Button className=\"mr-2\" variant=\"info\"\r\n                                                onClick={()=>this.setState(\r\n                                                {\r\n                                                    checkPrice:true\r\n                                                })}>\r\n                                                    Sprawdć cene \r\n                                        </Button> \r\n\r\n                                        \r\n                                        {\r\n                                            this.show_price(detal.carDetailsID)!=null && \r\n                                            <Button className=\"mr-2\" variant=\"success\" \r\n                                                onClick={()=> this.setState({Rent:detal.carDetailsID})}> \r\n                                                Wynajmij mnie\r\n                                            </Button>\r\n                                        }\r\n                                        \r\n\r\n                                        <CheckPriceForm show={this.state.checkPrice}\r\n                                        onHide={ModalCheckPriceClose}\r\n                                        carDetalisID={detal.carDetailsID}\r\n                                        isInList={exsist}\r\n                                        removeitem={removeItem}\r\n                                        additem={additem}/>\r\n\r\n                                        <RentMeForm show={this.state.Rent} \r\n                                        onHide={ModalRentClose}\r\n                                        cardetalisid={detal.carDetailsID}/>\r\n                                    </ButtonToolbar>\r\n                                </td>\r\n                            </tr>\r\n                        ) }\r\n                    </tbody>\r\n                    </Table>\r\n                \r\n            )\r\n        }\r\n        else\r\n            return(null)\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}